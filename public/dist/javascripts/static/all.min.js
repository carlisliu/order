define("static/category/category",["jquery"],function(t,e,n){function r(t){t&&(this.container=t="string"==typeof t?a(t):t,this.name=t.find("#category-name").val(),this.memo=t.find("#category-memo").val())}var a=t("jquery");r.prototype={save:function(t){var e={name:this.name,memo:this.memo};return a.post("/category/add.html",{category:e}).done(function(e){t(null,e)}).fail(function(e){t(e)}),this},remove:function(t,e){return t?a.post("/category/remove.html",{id:t}).done(function(t){e(null,t)}).fail(function(t){e(t)}):e(new Error("Category's id is empty.")),this},clear:function(){return this.container&&(this.container.find('input[type="text"]').val(""),this.id=this.name=this.memo=null,this.clearStyle()),this},clearStyle:function(){return this.container&&this.container.find(".control-group").removeClass("error success"),this}},n.exports=r}),define("static/category/event",["validate","jgrowl","../common/modal","../utils/index","./category"],function(t,e,n){var r=t("jquery"),a={errorPlacement:function(t,e){e.parents(".controls").append(t)},highlight:function(t){r(t).closest(".control-group").removeClass("error success").addClass("error")},success:function(t){t.addClass("valid").closest(".control-group").removeClass("error success").addClass("success")}};t("validate"),t("jgrowl");var i=t("../common/modal"),o=t("../utils/index");r.validator.setDefaults({onsubmit:!1}),r(function(){var e=t("./category");r("#save-category").click(function(t){t.preventDefault();var n=r(".validate");if(n.validate(a),n.valid()){var i=new e("#category-form");i.save(function(e,n){n?(i.clear(),r.jGrowl(n.msg||"Saved.")):r.jGrowl(t.toString())})}}),r("#customers-holder").delegate("tbody a","click",function(t){t.preventDefault();var n,d,s=new i("#info-modal"),c=r(this),l={},u=r.trim;l.id=(d=c.parents("tr")).attr("data-category-id"),c.hasClass("deleteRow")?s.setTitle("Warning").setBody("<p>Remove this category will also delete all the products under this category, do you wanna proceed?</p>").bindFooter("danger",function(){(new e).remove(l.id,function(t,e){t||d.remove(),r.jGrowl(t?t.toString():e.msg)})}):(l.name=u(d.find("td:first-child").attr("data-category-name")),l.memo=u(d.find("td:nth-child(2)").attr("data-category-memo")),n=u(r("#category-form-template").html()),s.setTitle("Change Category Info").setBody(o.template(n,l)).bindFooter("confirm",function(t){var e,n=t.find(".validate");return n.validate(a),n.valid()?(e={id:l.id,name:u(n.find("#category-name").val()),memo:u(n.find("#category-memo").val())},r.post("/category/update.html",{category:e}).done(function(t){d.find("td:first-child").attr("data-category-name",e.name),d.find("td:first-child").html(e.name),d.find("td:nth-child(2)").attr("data-category-memo",e.memo),d.find("td:nth-child(2)").html(e.memo),r.jGrowl(t.msg)}).fail(function(t){r.jGrowl(t.toString())}),!0):!1}))})})}),define("static/company/company",["jquery"],function(t,e,n){function r(t){this.container=t}var a=t("jquery");r.prototype={saveOrUpdate:function(t,e){return a.post("/company/save.html",{company:t}).done(function(t){e(null,t)}).fail(function(t){e(t)}),this},clear:function(){return this.container&&this.container.find("text").val(""),this},setData:function(t){var e=this.container;return t&&(e.find("#company-name").val(t.name||""),e.find("#company-address").val(t.address||""),e.find("#company-phone").val(t.phone||"")),this}},a(function(){var t=new r(a("#settings-form"));a("#company-setting").click(function(e){e.preventDefault(),a.getJSON("/company/get.html",function(e){e&&e.company?t.setData(e.company):t.clear()})}),a("#setting-confirm").click(function(e){e.preventDefault();var n=t.container,r={name:n.find("#company-name").val(),address:n.find("#company-address").val(),phone:n.find("#company-phone").val()};t.saveOrUpdate(r,function(){})}),"1"===a("#_company_missing_flag").val()&&a("#company-setting").click()}),n.exports=r}),define("static/common/base",["jquery","../utils/index"],function(t,e,n){function r(){}function a(t){var e;t=t||{},("object"!=typeof t||(e=t instanceof i))&&(t={container:e?t:i(t)}),t=i.extend(d,t),this.container=t.container||i(document.body),this.onerror=t.onerror,this.data={}}var i=t("jquery"),o=t("../utils/index"),d={onerror:function(t){o.error("error occurs, %j",t)}};n.exports=a,a.prototype={collectData:function(){var t=this;return this.container.find("input").each(function(){var e=i(this),n=e.attr("data-property");n&&(t.data[n]=i.trim(e.val()))}),this},getData:function(){return this.data},post:function(t,e,n,a){var d,s=this;return"boolean"!=typeof t&&(a=n,n=e,e=t,t=!1),"function"==typeof n&&(a=n,n=null),d=t?i.extend({},n||{}):i.extend({},this.collectData().getData(),n||{}),o.debug("url:%s, post data: %j",e,d),this.fixData&&(d=this.fixData(d),o.debug("url:%s, fixed data: %j",e,d)),i.post(e,d).done(function(t){a(t)}).fail(function(t){(s.onerror||r).call(this,t)}),this}}}),define("static/common/modal",["jquery"],function(t,e,n){function r(t){this.container=a(t)}var a=t("jquery");r.prototype={constructor:r,setTitle:function(t){return t&&this.container.find(".modal-header h3").html(t),this},setBody:function(t){return t&&this.container.find(".modal-body").html(t),this},bindFooter:function(t,e){var n,r=this.container.find(".modal-footer a"),i=this;return n=a(r[1]),"confirm"===t?n.removeClass("btn-danger").addClass("btn-primary"):n.removeClass("btn-primary").addClass("btn-danger"),n.off("click"),n.on("click",function(){var t=a.proxy(e||function(){},this,i.container)();t===!1?n.attr("data-cancel-close","true"):n.attr("data-cancel-close","false")}),this}},n.exports=r}),define(function(t,e,n){var r=t("jquery"),a={pageSize:10};r.fn.extend({pagination:function(t){var e=r.extend({},a,t),n=(e.currentPage||1,e.pageSize),i=e.totolSize||0;return n>=i?this:void 0}})}),define("static/customer/customer",["jquery","../utils/index"],function(t,e,n){function r(t){var e;this.container=t="string"==typeof t?a(t):t,(e=t.find("#customer-id")).length&&(this.id=e.val()),this.name=t.find("#customer-name").val(),this.tel=t.find("#customer-tel").val(),this.address={street:t.find("#customer-addr-street").val(),city:t.find("#customer-addr-city").val(),country:t.find("#customer-addr-country").val()}}var a=t("jquery"),i=t("../utils/index");r.fn=r.prototype={save:function(t){var e={};return e.name=this.name,e.tel=this.tel,e.address=this.address,a.post("/customer/add.html",{customer:e}).done(function(e){a.isFunction(t)&&t(null,e)}).fail(function(e){a.isFunction(t)&&t(e)}),this},clear:function(){return this.container&&(this.container.find('input[type="text"]').val(""),this.id=this.name=this.tel=this.address=null,this.clearStyle()),this},clearStyle:function(){return this.container&&this.container.find(".control-group").removeClass("error success"),this},getCustomerById:function(t,e){return t?a.getJSON("/customer/details/"+t).done(function(t){e(t.customer)}).fail(function(t){e(null)}):e(null),this},setData:function(t){var e=this.container;return e.find("#customer-id").val(this.id=t.id),e.find("#customer-name").val(this.name=t.name),e.find("#customer-tel").val(this.tel=t.tel),this.address=this.address||{},e.find("#customer-addr-street").val(this.address.street=t.address.street),e.find("#customer-addr-city").val(this.address.city=t.address.city),e.find("#customer-addr-country").val(this.address.country=t.address.country),e.find('input[type="text"]').trigger("blur"),this}},r.Display=function(t){this.container="string"==typeof t?a(t):t,this.template=a.trim(a("#customer-row-template").html())},r.Display.fn=r.Display.prototype={add:function(t){return this.render(t),this},remove:function(t,e){var n=this;return e=a.isFunction(e)?e:function(){},t?a.post("/customer/remove.html",{id:t}).done(function(r){n.container.find('tbody tr[data-customer-id="'+t+'"]').remove(),e(null,r)}).fail(e):e(new Error("Customer's ID is empty, can not delete.")),this},render:function(t){t["fix-address"]=function(t,e){var n;return e=e||", ",n=t.street+e+t.city,t.country&&(n+=e+t.country),n}(t.address);var e=i.template(this.template,t);return this.container.find("tbody").prepend(e),this},collectData:function(t,e){var n,r={},i=a.trim;return e?r.id=i(t.attr(e)):(n=t.find("td"),a.each(["name","tel","address"],function(t,e){var i=a(n[inex]).attr("data-customer-"+e);i&&(r[e]=JSON.parse(i))})),r}},n.exports=r}),define("static/customer/event",["validate","validate.extend","jgrowl","./customer","../utils/index","../common/modal"],function(t){var e=t("jquery");e(function(){var n,r,a,i,o,d={errorPlacement:function(t,e){e.parents(".controls").append(t)},highlight:function(t){e(t).closest(".control-group").removeClass("error success").addClass("error")},success:function(t){t.addClass("valid").closest(".control-group").removeClass("error success").addClass("success")}};t("validate"),t("validate.extend"),t("jgrowl"),o=t("../utils/index"),n=t("./customer"),r=n.Display,i=t("../common/modal"),e.validator.setDefaults({onsubmit:!1}),a=new r("#customers-holder"),a.container.delegate("tbody tr td a","click",function(t){t.preventDefault();var n,r,s,c=new i("#info-modal"),l=e(this),u=e.trim;if(l.hasClass("deleteRow"))c.setTitle("Warning").setBody("<p>Do you wanna remove this customer?</p>").bindFooter("danger",function(){a.remove(l.parents("tr").attr("data-customer-id"),function(t,n){e.jGrowl(t?t.toString():n.msg)})});else{n=u(e("#customer-form-template").html()),r=l.parents("tr"),s=u(r.find("td:nth-child(3)").attr("data-customer-address"));try{s=JSON.parse(s)}catch(t){s=new Function("return "+s),s=s()||{}}var f={id:u(r.attr("data-customer-id")),name:u(r.find("td:first-child").attr("data-customer-name")),tel:u(r.find("td:nth-child(2)").attr("data-customer-tel")),"address.street":s.street,"address.city":s.city,"address.country":s.country};c.setTitle("Change Customer Info").setBody(o.template(n,f)).bindFooter("confirm",function(t){var n,a=t.find(".validate");return a.validate(d),a.valid()?(n={},n.id=f.id,n.name=u(a.find("#customer-name").val()),n.tel=u(a.find("#customer-tel").val()),n.address={street:u(a.find("#customer-addr-street").val()),city:u(a.find("#customer-addr-city").val()),country:u(a.find("#customer-addr-country").val())},e.post("/customer/update.html",{customer:n}).done(function(t){if("success"===t.status){r.find("td:nth-child(1)").attr("data-customer-name",n.name),r.find("td:nth-child(1)").html(n.name),r.find("td:nth-child(2)").attr("data-customer-tel",n.tel),r.find("td:nth-child(2)").html(n.tel),r.find("td:nth-child(3)").attr("data-customer-address",JSON.stringify(n.address));var a=n.address;r.find("td:nth-child(3)").html(a.street+","+a.city+(a.country?","+a.country:""))}e.jGrowl(t.msg)}).fail(function(t){e.jGrowl(t.toString())}),!0):!1})}}),e("#save-customer").click(function(t){t.preventDefault();var r,i=e(".validate");i.validate(d),i.valid()&&(r=new n("#customer-form"),r.save(function(t,n){var i=t?"Error occurs":n.msg;t||"success"!==n.msg?r.clearStyle():(r.clear(),a.render(n.customer)),e.jGrowl(i)}))})})}),define("static/menu/index",["jquery"],function(t){var e=t("jquery");e(".main-nav > li.active > a").click(function(t){e(window).width()<=767&&(t.preventDefault(),e(this).hasClass("open")&&!e(this).hasClass("toggle-collapsed")?(e(this).removeClass("open"),e(this).parents(".main-nav").find("li").each(function(){e(this).find(".collapsed-nav").addClass("closed"),e(this).hide()}),e(this).parent().show(),e(this).parent().removeClass("open")):(e(this).hasClass("toggle-collapsed")&&e(this).parent().addClass("open"),e(this).hasClass("open")?(e(this).parents(".main-nav").find("li").not(".active").each(function(){e(this).find(".collapsed-nav").addClass("closed"),e(this).hide()}),e(this).removeClass("open")):(e(this).addClass("open"),e(this).parents(".main-nav").find("li").show())))}),e(".toggle-collapsed").each(function(){e(this).hasClass("on-hover")?(e(this).click(function(t){t.preventDefault()}),e(this).parent().hover(function(){e(this).addClass("open"),e(this).find(".collapsed-nav").slideDown(),e(this).find("img").attr("src","/images/toggle-subnav-up-white.png")},function(){e(this).removeClass("open"),e(this).find(".collapsed-nav").slideUp(),e(this).find("img").attr("src","/images/toggle-subnav-down.png")})):e(this).click(function(t){t.preventDefault(),e(this).parent().find(".collapsed-nav").is(":visible")?(e(this).parent().removeClass("open"),e(this).parent().find(".collapsed-nav").slideUp(),e(this).find("img").attr("src","/images/toggle-subnav-down.png")):(e(this).parent().addClass("open"),e(this).parent().find(".collapsed-nav").slideDown(),e(this).find("img").attr("src","/images/toggle-subnav-up-white.png"))})}),e(".collapsed-nav li a").hover(function(){e(this).parent().hasClass("active")||e(this).stop().animate({marginLeft:"5px"},300)},function(){e(this).stop().animate({marginLeft:"0"},100)}),e(document.body).on("keyup","#find-order",function(t){var n;13==t.keyCode&&(n=e.trim(e(this).val()),/^\d+$/.test(n)?window.location.href="/order/list.html?no="+n:Date.parse&&Date.parse(n)?window.location.href="/order/list.html?date="+n:alert("Wrong format of search condition"))})}),define("static/order/event",["jquery","validate","validate.extend","jgrowl","./order","../customer/customer","../product/product","../utils/index"],function(t){var e=t("jquery"),n=t("./order").Order,r=t("./order").Detail,a=t("../customer/customer"),i=new a("#customer-form"),o=t("../product/product"),d=new o,s=t("../utils/index"),c={},l={errorPlacement:function(t,e){e.parents(".controls").append(t)},highlight:function(t){e(t).closest(".control-group").removeClass("error success").addClass("error")},success:function(t){t.addClass("valid").closest(".control-group").removeClass("error success").addClass("success")}};t("jgrowl"),t("validate"),t("validate.extend"),e.validator.setDefaults({onsubmit:!1}),e(function(){function t(t){var n=0;return e.each(t,function(t,e){n+=e.product_price*e.product_qty}),n.toFixed(2)}function a(){var t=e("#product-form");return t.validate(l),t.valid()}function o(){var t=e("#customer-form");return t.validate(l),t.valid()}var u,f,m,h,p,v;e("#customer-id").change(function(){var t=e(this).val();return t?void i.getCustomerById(e(this).val(),function(t){t&&i.setData(t)}):(i.clear(),this)}),u=e("#category-id"),f=e("#product-id"),m=e("#product-qty-actions"),h=e("#product-price"),p=e("#product-qty"),v=e("#order-detail-holder"),u.change(function(){var t=u.val();t&&d.getProductByCategoryId(t,function(t,n){var r,a=t||n.msg||"";a&&e.jGrowl(a),(r=n.products)&&(f.data("productsData",r),s.bindSelector(f,s.convert(r,"id","name")),f.trigger("change"))})}),f.change(function(){var t,n=f.val();h.val(""),n&&(t=f.data("productsData"),e.each(t,function(t,e){return n===e.id?(h.val(e.price),!1):void 0}))}),m.delegate("span","click",function(){var t=e.trim;return function(n){var r=e(this),a=t(r.attr("data-action")),i=parseInt(p.val()||0);switch(a){case"add":p.val(++i);break;case"minus":p.val(0>=i?0:--i)}}}()),v.delegate("a.deleteRow","click",function(n){n.preventDefault();var r=e(this).parents("tr");delete c[r.attr("order-detail-id")],v.find("tbody tr:last").find("td:nth-child(5)").html(t(c)),r.remove()}),e("#add-to-order").click(function(n){n.preventDefault();var i,o,d,l,m,g=e(this);if(a()){i=g.data("template"),i||(i=e.trim(e("#product-detail-template").html()),g.data("template",i)),d=parseFloat(h.val()),l=parseFloat(p.val());var y={category_id:u.val(),category_name:u.find("option:selected").text(),product_id:f.val(),product_name:f.find("option:selected").text(),product_price:d,product_qty:l,total:(l*d).toFixed(2)};m=new r(y),c[m.gid]=m,o=e(s.template(i,y)),o.attr("order-detail-id",m.gid),v.find("tbody").prepend(o),v.find("tbody tr:last").find("td:nth-child(5)").html(t(c))}}),e("#save-order").click(function(t){var r,a=function(t){var n=[];return e.each(t,function(t,e){n.push(e.getData())}),n};t.preventDefault(),o()&&(e.isEmptyObject(c)?e.jGrowl("Please select at least one product"):(r=new n({customer_id:i.id,customer_name:i.name,customer_tel:i.tel,customer_address:i.address},a(c)),r.save(r.getData(),function(t,n){t?e.jGrowl(t.toString()):e.jGrowl("Saved.")})))}),e("#clear-order").click(function(t){t.preventDefault(),c={},v.find("tbody tr:last").find("td:nth-child(5)").html(0),v.find('tbody tr[data-total!="total"]').remove()})})}),define("static/order/list",["jquery","../utils/index","datepicker"],function(t){var e=t("jquery"),n=t("../utils/index");t("datepicker"),e(function(){var t=e("#order-customer"),r=e("#order-date"),a=e("#order-no"),i=e("#order-search");e.getJSON("/customer/get.html",function(e){e&&e.customer&&n.bindSelector(t,e.customer)}),r.datepicker();var o=e.trim(e("#order-result-template").html()),d=e("#order-detail-holder");i.click(function(i){i.preventDefault();var s,c={},l=e.trim;s=l(t.val()),s&&(c.customer_id=s),s=l(r.val()),s&&(c.create_at=s),s=l(a.val()),s&&(c.no=s),e.getJSON("/order/get.html",{params:c},function(t){d.find("tbody").empty(),t&&t.orders&&t.orders.length?e.each(t.orders,function(t,e){var r=n.template(o,e);d.find("tbody").append(r)}):d.find("tbody").append('<tr><td colspan="5">No matching records found</td></tr>')})}),e("#order-detail-holder").find("tbody").delegate("tr a","click",function(t){t.preventDefault(),window.open("/order/details/"+e(this).attr("data-order-no"))}),location.search||i.trigger("click")})}),define("static/order/order",["jquery"],function(t,e,n){function r(t){t&&(this.gid=r.guid++,this.category_id=t.category_id||"",this.category_name=t.category_name||"",this.product_id=t.product_id||"",this.product_name=t.product_name||"",this.product_price=t.product_price||"",this.product_qty=t.product_qty||0)}function a(t,e){this.customer=t,this.details=e}var i=t("jquery");r.guid=0,r.prototype={constructor:r,getData:function(){return{category_id:this.category_id,category_name:this.category_name,product_id:this.product_id,product_name:this.product_name,product_price:this.product_price,product_qty:this.product_qty}}},a.prototype={save:function(t,e){return t?i.post("/order/add.html",{order:t}).done(function(t){e(null,t.order)}).fail(function(t){e(t)}):e(new Error("Order is empty.")),this},getData:function(){var t=this.customer||{};return{customer_id:t.customer_id,customer_name:t.customer_name,customer_tel:t.customer_tel,customer_address:t.customer_address,details:this.details}},getTotal:function(){var t=0;return i.each(this.details,function(e,n){t+=parseFloat(n.product_price)}),t},addDetail:function(t){var e;return t instanceof r?(e=t,(this.details||(this.details=[])).push(e)):(e=new r(t),(this.details||(this.details=[])).push(new r(e))),e.gid},removeDetail:function(t){var e=this;return t&&i.each(e.details,function(n,r){return r.gid===t?(e.details.splice(n),!1):void 0}),this}},n.exports={Order:a,Detail:r}}),define("static/utils/index",["jquery"],function(t){function e(t){return function(e){window.console&&console[t].apply(console,arguments)}}var n=t("jquery");return{template:function(t,e){return t.replace(/\{(\w+.?\w+)\}/g,function(t,n){var r="object"==typeof e[n]?JSON.stringify(e[n]):e[n];return r||""}).replace(/\{(\d+)\}/g,function(t,n){var r="object"==typeof e[n]?JSON.stringify(e[n]):e[n];return r||""})},bindSelector:function(t,e){if(t.empty(),e){var n='<option value="" selected="selected">Choose One</option>';for(var r in e)n+='<option value="'+r+'">'+e[r]+"</option>";t.append(n)}return t},convert:function(t,e,r){var a={};return n.isArray(t)&&n.each(t,function(t,n){a[n[e]]=n[r]}),a},log:e("log"),debug:e("debug")}}),define("static/product/event",["validate","validate.extend","jgrowl","../common/modal","../utils/index","./product"],function(t){var e,n,r=t("jquery"),a=window.msg,i=t("./product"),o={errorPlacement:function(t,e){e.parents(".controls").append(t)},highlight:function(t){r(t).closest(".control-group").removeClass("error success").addClass("error")},success:function(t){t.addClass("valid").closest(".control-group").removeClass("error success").addClass("success")}};t("validate"),t("validate.extend"),t("jgrowl"),e=t("../common/modal"),n=t("../utils/index"),a&&"null"!==a&&(r.jGrowl(a),a=null),r.validator.setDefaults({onsubmit:!1}),r(function(){r("#save-product").click(function(t){t.preventDefault();var e=r(".validate");if(e.validate(o),e.valid()){var n=new i("#product-form");n.save(function(e,a){a?(n.clear(),r.jGrowl(a.msg||"Saved.")):r.jGrowl(t.toString())})}}),r("#products-holder").delegate("tbody a","click",function(t){t.preventDefault();var a,d,s=new e("#info-modal"),c=r(this),l={},u=r.trim;l.id=(d=c.parents("tr")).attr("data-product-id"),c.hasClass("deleteRow")?s.setTitle("Warning").setBody("<p>Do you wanna remove this product?</p>").bindFooter("danger",function(){(new i).remove(l.id,function(t,e){t||d.remove(),r.jGrowl(t?t.toString():e.msg)})}):(l.name=u(d.find("td:first-child").attr("data-product-name")),l.category_id=u(d.find("td:nth-child(2)").attr("data-product-category")),l.price=u(d.find("td:nth-child(3)").attr("data-product-price")),l.memo=u(d.find("td:nth-child(4)").attr("data-product-memo")),a=u(r("#product-form-template").html()),a=r(n.template(a,l)),n.bindSelector(a.find("#product-category"),JSON.parse(u(r("#category-data").html()))),s.setTitle("Change Category Info").setBody(a.html()).bindFooter("confirm",function(t){var e,n=t.find(".validate");return n.validate(o),n.valid()?(e={id:l.id,name:u(n.find("#product-name").val()),category_id:u(n.find("#product-category").val()),price:parseFloat(u(n.find("#product-price").val())),memo:u(n.find("#product-memo").val())},r.post("/product/update.html",{product:e}).done(function(t){var e=t.product;d.find("td:first-child").attr("data-product-name",e.name),d.find("td:first-child").html(e.name),d.find("td:nth-child(2)").attr("data-product-category",e.category_id),d.find("td:nth-child(2)").html(e.category_name),d.find("td:nth-child(3)").attr("data-product-price",e.price),d.find("td:nth-child(3)").html(e.price),d.find("td:nth-child(4)").attr("data-product-memo",e.memo),d.find("td:nth-child(4)").html(e.memo),r.jGrowl(t.msg)}).fail(function(t){r.jGrowl(t.toString())}),!0):!1}),s.container.find("#product-category").val(l.category_id))})})}),define("static/product/product",["jquery"],function(t,e,n){function r(t){t&&(this.container=t="string"==typeof t?a(t):t,this.name=t.find("#product-name").val(),this.price=t.find("#product-price").val(),this.category_id=t.find("#product-category").val(),this.memo=t.find("#product-memo").val())}var a=t("jquery");r.prototype={save:function(t){var e={name:this.name,price:this.price,category_id:this.category_id,memo:this.memo};return a.post("/product/add.html",{product:e}).done(function(e){t(null,e)}).fail(function(e){t(e)}),this},getProductByCategoryId:function(t,e){a.getJSON("/product/find.html/"+t).done(function(t){e(null,t)}).fail(function(t){e(t)})},remove:function(t,e){return t?a.post("/product/remove.html",{id:t}).done(function(t){e(null,t)}).fail(function(t){e(t)}):e(new Error("Product's id is empty.")),this},clear:function(){return this.container&&(this.container.find('input[type="text"],select').val(""),this.id=this.name=this.memo=this.category_id=null,this.clearStyle()),this},clearStyle:function(){return this.container&&this.container.find(".control-group").removeClass("error success"),this}},n.exports=r});